---
title: 【Ruby】slack-notifierでユーザーグループにメンションを送る
date: 2021-03-23
draft: false
tags:
  - Ruby
  - Gem
  - slack-notifier
categories:
  - Ruby, Rails
image: images/logos/ruby.png
series:
  - 技術関連
---

## ユーザーへの通知

## ユーザーグループ ID の取得方法

[stevenosloan/slack\-notifier: A simple wrapper for posting to slack channels](https://github.com/stevenosloan/slack-notifier)

https://github.com/stevenosloan/slack-notifier/blob/4bf6582663dc9e5070afe3fdc42d67c14a513354/lib/slack-notifier/payload_middleware/at.rb

```rb:/lib/slack-notifier/payload_middleware/at.rb
def at_cmd_char at
  case at
  when :here, :channel, :everyone, :group
    "!"
  else
    "@"
  end
end
```

ユーザーグループへのメンションは`!ユーザーグループID`になる必要がある。

ID を渡すというのはメンションと同じなので、テキスト埋め込みで頑張る。

`<!subteam^your_team_id>`

## 参考

[【Slack】Webhook 経由での通知でユーザーグループにメンションを飛ばす \- Qiita](https://qiita.com/tamorieeeen/items/de6c34760e2d8550f123)

---
title: Mac M1 環境構築メモ
date: 2022-03-22
draft: false
tags:
  - Mac
  - M1
categories:
  - その他
image: images/logos/apple.png
series:
  - 技術関連
---

## Appleストアからインストール

- Slack
- 1Password

## インストール

- GoogleChrome
- Iterm2
- VSCode
  - SettingSyncの設定をしていてよかった
- Alfred
  - AppleストアのものはSilicon対応していなかった
- ClipyはSilicon対応していなかった

## Xcode Command Line Tools のインストール

`git`コマンドを実行しようとするとポップアップが表示されるので、利用規約にチェックをしてインストール。
<img width="465" alt="image" src="https://user-images.githubusercontent.com/44717752/159324150-f6151500-4234-4dc6-847e-24b37f7906fd.png">


```sh
xcode-select --install
```
でも可。


参考：[brew upgrade でのエラー対処からCommand Line Toolsについてまとめてみる｜TechRacho by BPS株式会社](https://techracho.bpsinc.jp/wingdoor/2021_04_09/104821)

## HomeBrewのインストール

[The Missing Package Manager for macOS \(or Linux\) — Homebrew](https://brew.sh/)

```sh
k_end@k-end-mac ~ % cd /opt
k_end@k-end-mac /opt % sudo mkdir homebrew
Password:
mkdir: homebrew: File exists
k_end@k-end-mac /opt % sudo chown $USER:admin homebrew
chown: /opt/k_enddmin: illegal user name
k_end@k-end-mac /opt % curl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C homebrew
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   139  100   139    0     0    510      0 --:--:-- --:--:-- --:--:--   524
100 2610k  100 2610k    0     0  2954k      0 --:--:-- --:--:-- --:--:-- 8286k
k_end@k-end-mac /opt % brew -v
zsh: command not found: brew
k_end@k-end-mac /opt % /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
==> Checking for `sudo` access (which may request your password)...
==> This script will install:
/opt/homebrew/bin/brew
/opt/homebrew/share/doc/homebrew
/opt/homebrew/share/man/man1/brew.1
/opt/homebrew/share/zsh/site-functions/_brew
/opt/homebrew/etc/bash_completion.d/brew
/opt/homebrew

Press RETURN/ENTER to continue or any other key to abort:
==> /usr/bin/sudo /usr/sbin/chown -R k_end:admin /opt/homebrew
==> Downloading and installing Homebrew...
remote: Enumerating objects: 204844, done.
remote: Counting objects: 100% (115/115), done.
remote: Compressing objects: 100% (93/93), done.
remote: Total 204844 (delta 33), reused 86 (delta 19), pack-reused 204729
Receiving objects: 100% (204844/204844), 56.63 MiB | 10.39 MiB/s, done.
Resolving deltas: 100% (150818/150818), done.
From https://github.com/Homebrew/brew
 * [new branch]          dependabot/github_actions/actions/cache-3 -> origin/dependabot/github_actions/actions/cache-3
 * [new branch]          master                                    -> origin/master
 * [new tag]             0.1                                       -> 0.1
 * [new tag]             0.2                                       -> 0.2
 * [new tag]             0.3                                       -> 0.3
 * [new tag]             0.4                                       -> 0.4
 * [new tag]             0.5                                       -> 0.5
 * [new tag]             0.6                                       -> 0.6
 * [new tag]             0.7                                       -> 0.7
 * [new tag]             0.7.1                                     -> 0.7.1
 * [new tag]             0.8                                       -> 0.8
 * [new tag]             0.8.1                                     -> 0.8.1
 * [new tag]             0.9                                       -> 0.9
 * [new tag]             0.9.1                                     -> 0.9.1
 * [new tag]             0.9.2                                     -> 0.9.2
 * [new tag]             0.9.3                                     -> 0.9.3
 * [new tag]             0.9.4                                     -> 0.9.4
 * [new tag]             0.9.5                                     -> 0.9.5
 * [new tag]             0.9.8                                     -> 0.9.8
 * [new tag]             0.9.9                                     -> 0.9.9
 * [new tag]             1.0.0                                     -> 1.0.0
 * [new tag]             1.0.1                                     -> 1.0.1
 * [new tag]             1.0.2                                     -> 1.0.2
 * [new tag]             1.0.3                                     -> 1.0.3
 * [new tag]             1.0.4                                     -> 1.0.4
 * [new tag]             1.0.5                                     -> 1.0.5
 * [new tag]             1.0.6                                     -> 1.0.6
 * [new tag]             1.0.7                                     -> 1.0.7
 * [new tag]             1.0.8                                     -> 1.0.8
 * [new tag]             1.0.9                                     -> 1.0.9
 * [new tag]             1.1.0                                     -> 1.1.0
 * [new tag]             1.1.1                                     -> 1.1.1
 * [new tag]             1.1.10                                    -> 1.1.10
 * [new tag]             1.1.11                                    -> 1.1.11
 * [new tag]             1.1.12                                    -> 1.1.12
 * [new tag]             1.1.13                                    -> 1.1.13
 * [new tag]             1.1.2                                     -> 1.1.2
 * [new tag]             1.1.3                                     -> 1.1.3
 * [new tag]             1.1.4                                     -> 1.1.4
 * [new tag]             1.1.5                                     -> 1.1.5
 * [new tag]             1.1.6                                     -> 1.1.6
 * [new tag]             1.1.7                                     -> 1.1.7
 * [new tag]             1.1.8                                     -> 1.1.8
 * [new tag]             1.1.9                                     -> 1.1.9
 * [new tag]             1.2.0                                     -> 1.2.0
 * [new tag]             1.2.1                                     -> 1.2.1
 * [new tag]             1.2.2                                     -> 1.2.2
 * [new tag]             1.2.3                                     -> 1.2.3
 * [new tag]             1.2.4                                     -> 1.2.4
 * [new tag]             1.2.5                                     -> 1.2.5
 * [new tag]             1.2.6                                     -> 1.2.6
 * [new tag]             1.3.0                                     -> 1.3.0
 * [new tag]             1.3.1                                     -> 1.3.1
 * [new tag]             1.3.2                                     -> 1.3.2
 * [new tag]             1.3.3                                     -> 1.3.3
 * [new tag]             1.3.4                                     -> 1.3.4
 * [new tag]             1.3.5                                     -> 1.3.5
 * [new tag]             1.3.6                                     -> 1.3.6
 * [new tag]             1.3.7                                     -> 1.3.7
 * [new tag]             1.3.8                                     -> 1.3.8
 * [new tag]             1.3.9                                     -> 1.3.9
 * [new tag]             1.4.0                                     -> 1.4.0
 * [new tag]             1.4.1                                     -> 1.4.1
 * [new tag]             1.4.2                                     -> 1.4.2
 * [new tag]             1.4.3                                     -> 1.4.3
 * [new tag]             1.5.0                                     -> 1.5.0
 * [new tag]             1.5.1                                     -> 1.5.1
 * [new tag]             1.5.10                                    -> 1.5.10
 * [new tag]             1.5.11                                    -> 1.5.11
 * [new tag]             1.5.12                                    -> 1.5.12
 * [new tag]             1.5.13                                    -> 1.5.13
 * [new tag]             1.5.14                                    -> 1.5.14
 * [new tag]             1.5.2                                     -> 1.5.2
 * [new tag]             1.5.3                                     -> 1.5.3
 * [new tag]             1.5.4                                     -> 1.5.4
 * [new tag]             1.5.5                                     -> 1.5.5
 * [new tag]             1.5.6                                     -> 1.5.6
 * [new tag]             1.5.7                                     -> 1.5.7
 * [new tag]             1.5.8                                     -> 1.5.8
 * [new tag]             1.5.9                                     -> 1.5.9
 * [new tag]             1.6.0                                     -> 1.6.0
 * [new tag]             1.6.1                                     -> 1.6.1
 * [new tag]             1.6.10                                    -> 1.6.10
 * [new tag]             1.6.11                                    -> 1.6.11
 * [new tag]             1.6.12                                    -> 1.6.12
 * [new tag]             1.6.13                                    -> 1.6.13
 * [new tag]             1.6.14                                    -> 1.6.14
 * [new tag]             1.6.15                                    -> 1.6.15
 * [new tag]             1.6.16                                    -> 1.6.16
 * [new tag]             1.6.17                                    -> 1.6.17
 * [new tag]             1.6.2                                     -> 1.6.2
 * [new tag]             1.6.3                                     -> 1.6.3
 * [new tag]             1.6.4                                     -> 1.6.4
 * [new tag]             1.6.5                                     -> 1.6.5
 * [new tag]             1.6.6                                     -> 1.6.6
 * [new tag]             1.6.7                                     -> 1.6.7
 * [new tag]             1.6.8                                     -> 1.6.8
 * [new tag]             1.6.9                                     -> 1.6.9
 * [new tag]             1.7.0                                     -> 1.7.0
 * [new tag]             1.7.1                                     -> 1.7.1
 * [new tag]             1.7.2                                     -> 1.7.2
 * [new tag]             1.7.3                                     -> 1.7.3
 * [new tag]             1.7.4                                     -> 1.7.4
 * [new tag]             1.7.5                                     -> 1.7.5
 * [new tag]             1.7.6                                     -> 1.7.6
 * [new tag]             1.7.7                                     -> 1.7.7
 * [new tag]             1.8.0                                     -> 1.8.0
 * [new tag]             1.8.1                                     -> 1.8.1
 * [new tag]             1.8.2                                     -> 1.8.2
 * [new tag]             1.8.3                                     -> 1.8.3
 * [new tag]             1.8.4                                     -> 1.8.4
 * [new tag]             1.8.5                                     -> 1.8.5
 * [new tag]             1.8.6                                     -> 1.8.6
 * [new tag]             1.9.0                                     -> 1.9.0
 * [new tag]             1.9.1                                     -> 1.9.1
 * [new tag]             1.9.2                                     -> 1.9.2
 * [new tag]             1.9.3                                     -> 1.9.3
 * [new tag]             2.0.0                                     -> 2.0.0
 * [new tag]             2.0.1                                     -> 2.0.1
 * [new tag]             2.0.2                                     -> 2.0.2
 * [new tag]             2.0.3                                     -> 2.0.3
 * [new tag]             2.0.4                                     -> 2.0.4
 * [new tag]             2.0.5                                     -> 2.0.5
 * [new tag]             2.0.6                                     -> 2.0.6
 * [new tag]             2.1.0                                     -> 2.1.0
 * [new tag]             2.1.1                                     -> 2.1.1
 * [new tag]             2.1.10                                    -> 2.1.10
 * [new tag]             2.1.11                                    -> 2.1.11
 * [new tag]             2.1.12                                    -> 2.1.12
 * [new tag]             2.1.13                                    -> 2.1.13
 * [new tag]             2.1.14                                    -> 2.1.14
 * [new tag]             2.1.15                                    -> 2.1.15
 * [new tag]             2.1.16                                    -> 2.1.16
 * [new tag]             2.1.2                                     -> 2.1.2
 * [new tag]             2.1.3                                     -> 2.1.3
 * [new tag]             2.1.4                                     -> 2.1.4
 * [new tag]             2.1.5                                     -> 2.1.5
 * [new tag]             2.1.6                                     -> 2.1.6
 * [new tag]             2.1.7                                     -> 2.1.7
 * [new tag]             2.1.8                                     -> 2.1.8
 * [new tag]             2.1.9                                     -> 2.1.9
 * [new tag]             2.2.0                                     -> 2.2.0
 * [new tag]             2.2.1                                     -> 2.2.1
 * [new tag]             2.2.10                                    -> 2.2.10
 * [new tag]             2.2.11                                    -> 2.2.11
 * [new tag]             2.2.12                                    -> 2.2.12
 * [new tag]             2.2.13                                    -> 2.2.13
 * [new tag]             2.2.14                                    -> 2.2.14
 * [new tag]             2.2.15                                    -> 2.2.15
 * [new tag]             2.2.16                                    -> 2.2.16
 * [new tag]             2.2.17                                    -> 2.2.17
 * [new tag]             2.2.2                                     -> 2.2.2
 * [new tag]             2.2.3                                     -> 2.2.3
 * [new tag]             2.2.4                                     -> 2.2.4
 * [new tag]             2.2.5                                     -> 2.2.5
 * [new tag]             2.2.6                                     -> 2.2.6
 * [new tag]             2.2.7                                     -> 2.2.7
 * [new tag]             2.2.8                                     -> 2.2.8
 * [new tag]             2.2.9                                     -> 2.2.9
 * [new tag]             2.3.0                                     -> 2.3.0
 * [new tag]             2.4.0                                     -> 2.4.0
 * [new tag]             2.4.1                                     -> 2.4.1
 * [new tag]             2.4.10                                    -> 2.4.10
 * [new tag]             2.4.11                                    -> 2.4.11
 * [new tag]             2.4.12                                    -> 2.4.12
 * [new tag]             2.4.13                                    -> 2.4.13
 * [new tag]             2.4.14                                    -> 2.4.14
 * [new tag]             2.4.15                                    -> 2.4.15
 * [new tag]             2.4.16                                    -> 2.4.16
 * [new tag]             2.4.2                                     -> 2.4.2
 * [new tag]             2.4.3                                     -> 2.4.3
 * [new tag]             2.4.4                                     -> 2.4.4
 * [new tag]             2.4.5                                     -> 2.4.5
 * [new tag]             2.4.6                                     -> 2.4.6
 * [new tag]             2.4.7                                     -> 2.4.7
 * [new tag]             2.4.8                                     -> 2.4.8
 * [new tag]             2.4.9                                     -> 2.4.9
 * [new tag]             2.5.0                                     -> 2.5.0
 * [new tag]             2.5.1                                     -> 2.5.1
 * [new tag]             2.5.10                                    -> 2.5.10
 * [new tag]             2.5.11                                    -> 2.5.11
 * [new tag]             2.5.12                                    -> 2.5.12
 * [new tag]             2.5.2                                     -> 2.5.2
 * [new tag]             2.5.3                                     -> 2.5.3
 * [new tag]             2.5.4                                     -> 2.5.4
 * [new tag]             2.5.5                                     -> 2.5.5
 * [new tag]             2.5.6                                     -> 2.5.6
 * [new tag]             2.5.7                                     -> 2.5.7
 * [new tag]             2.5.8                                     -> 2.5.8
 * [new tag]             2.5.9                                     -> 2.5.9
 * [new tag]             2.6.0                                     -> 2.6.0
 * [new tag]             2.6.1                                     -> 2.6.1
 * [new tag]             2.6.2                                     -> 2.6.2
 * [new tag]             2.7.0                                     -> 2.7.0
 * [new tag]             2.7.1                                     -> 2.7.1
 * [new tag]             2.7.2                                     -> 2.7.2
 * [new tag]             2.7.3                                     -> 2.7.3
 * [new tag]             2.7.4                                     -> 2.7.4
 * [new tag]             2.7.5                                     -> 2.7.5
 * [new tag]             2.7.6                                     -> 2.7.6
 * [new tag]             2.7.7                                     -> 2.7.7
 * [new tag]             3.0.0                                     -> 3.0.0
 * [new tag]             3.0.1                                     -> 3.0.1
 * [new tag]             3.0.10                                    -> 3.0.10
 * [new tag]             3.0.11                                    -> 3.0.11
 * [new tag]             3.0.2                                     -> 3.0.2
 * [new tag]             3.0.3                                     -> 3.0.3
 * [new tag]             3.0.4                                     -> 3.0.4
 * [new tag]             3.0.5                                     -> 3.0.5
 * [new tag]             3.0.6                                     -> 3.0.6
 * [new tag]             3.0.7                                     -> 3.0.7
 * [new tag]             3.0.8                                     -> 3.0.8
 * [new tag]             3.0.9                                     -> 3.0.9
 * [new tag]             3.1.0                                     -> 3.1.0
 * [new tag]             3.1.1                                     -> 3.1.1
 * [new tag]             3.1.10                                    -> 3.1.10
 * [new tag]             3.1.11                                    -> 3.1.11
 * [new tag]             3.1.12                                    -> 3.1.12
 * [new tag]             3.1.2                                     -> 3.1.2
 * [new tag]             3.1.3                                     -> 3.1.3
 * [new tag]             3.1.4                                     -> 3.1.4
 * [new tag]             3.1.5                                     -> 3.1.5
 * [new tag]             3.1.6                                     -> 3.1.6
 * [new tag]             3.1.7                                     -> 3.1.7
 * [new tag]             3.1.8                                     -> 3.1.8
 * [new tag]             3.1.9                                     -> 3.1.9
 * [new tag]             3.2.0                                     -> 3.2.0
 * [new tag]             3.2.1                                     -> 3.2.1
 * [new tag]             3.2.10                                    -> 3.2.10
 * [new tag]             3.2.11                                    -> 3.2.11
 * [new tag]             3.2.12                                    -> 3.2.12
 * [new tag]             3.2.13                                    -> 3.2.13
 * [new tag]             3.2.14                                    -> 3.2.14
 * [new tag]             3.2.15                                    -> 3.2.15
 * [new tag]             3.2.16                                    -> 3.2.16
 * [new tag]             3.2.17                                    -> 3.2.17
 * [new tag]             3.2.2                                     -> 3.2.2
 * [new tag]             3.2.3                                     -> 3.2.3
 * [new tag]             3.2.4                                     -> 3.2.4
 * [new tag]             3.2.5                                     -> 3.2.5
 * [new tag]             3.2.6                                     -> 3.2.6
 * [new tag]             3.2.7                                     -> 3.2.7
 * [new tag]             3.2.8                                     -> 3.2.8
 * [new tag]             3.2.9                                     -> 3.2.9
 * [new tag]             3.3.0                                     -> 3.3.0
 * [new tag]             3.3.1                                     -> 3.3.1
 * [new tag]             3.3.10                                    -> 3.3.10
 * [new tag]             3.3.11                                    -> 3.3.11
 * [new tag]             3.3.12                                    -> 3.3.12
 * [new tag]             3.3.13                                    -> 3.3.13
 * [new tag]             3.3.14                                    -> 3.3.14
 * [new tag]             3.3.15                                    -> 3.3.15
 * [new tag]             3.3.16                                    -> 3.3.16
 * [new tag]             3.3.2                                     -> 3.3.2
 * [new tag]             3.3.3                                     -> 3.3.3
 * [new tag]             3.3.4                                     -> 3.3.4
 * [new tag]             3.3.5                                     -> 3.3.5
 * [new tag]             3.3.6                                     -> 3.3.6
 * [new tag]             3.3.7                                     -> 3.3.7
 * [new tag]             3.3.8                                     -> 3.3.8
 * [new tag]             3.3.9                                     -> 3.3.9
 * [new tag]             3.4.0                                     -> 3.4.0
 * [new tag]             3.4.1                                     -> 3.4.1
 * [new tag]             3.4.2                                     -> 3.4.2
 * [new tag]             3.4.3                                     -> 3.4.3
HEAD is now at 4e98f4b36 Merge pull request #13019 from Homebrew/dependabot/bundler/Library/Homebrew/sorbet-0.5.9775
==> Tapping homebrew/core
remote: Enumerating objects: 1160987, done.
remote: Counting objects: 100% (111/111), done.
remote: Compressing objects: 100% (61/61), done.
remote: Total 1160987 (delta 62), reused 96 (delta 50), pack-reused 1160876
Receiving objects: 100% (1160987/1160987), 457.08 MiB | 9.87 MiB/s, done.
Resolving deltas: 100% (803203/803203), done.
From https://github.com/Homebrew/homebrew-core
 * [new branch]              master     -> origin/master
HEAD is now at adffe606f2e rslint: add 0.3.2 bottle.
Updated 1 tap (homebrew/core).
Warning: /opt/homebrew/bin is not in your PATH.
  Instructions on how to configure your shell for Homebrew
  can be found in the 'Next steps' section below.
==> Installation successful!

==> Homebrew has enabled anonymous aggregate formulae and cask analytics.
Read the analytics documentation (and how to opt-out) here:
  https://docs.brew.sh/Analytics
No analytics data has been sent yet (nor will any be during this install run).

==> Homebrew is run entirely by unpaid volunteers. Please consider donating:
  https://github.com/Homebrew/brew#donations

==> Next steps:
- Run these two commands in your terminal to add Homebrew to your PATH:
    echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> /Users/k_end/.zprofile
    eval "$(/opt/homebrew/bin/brew shellenv)"
- Run brew help to get started
- Further documentation:
    https://docs.brew.sh

k_end@k-end-mac /opt % echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> /Users/k_end/.zprofile
k_end@k-end-mac /opt %  eval "$(/opt/homebrew/bin/brew shellenv)"
k_end@k-end-mac /opt % exec $SHELL -l
k_end@k-end-mac /opt % brew -v
Homebrew 3.4.3
Homebrew/homebrew-core (git revision c8ce20b018d; last commit 2022-03-21)
```

## いろいろインストール

- zsh
- git
- peco
- yarn
- anyenv
- hub
- hugo

```sh
k_end@k-end-mac ~ % brew install zsh git peco yarn
==> Downloading https://ghcr.io/v2/homebrew/core/ncurses/manifests/6.3
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/ncurses/blobs/sha256:a1aabfa5d0fd9b2735b3d83d5378a447049190a34d85c3df9f2983beecbf83d5
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:a1aabfa5d0fd9b2735b3d83d5378a447049190a34d85c3df9f2983beecbf83d5?se=2022-03-21T23%3A20%3A00Z&sig=Eh3sDB9%2FW6b%2F3x5qWv
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/pcre/manifests/8.45
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/pcre/blobs/sha256:11193fd0a113c0bb330b1c2c21ab6f40d225c1893a451bba85e8a1562b914a1c
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:11193fd0a113c0bb330b1c2c21ab6f40d225c1893a451bba85e8a1562b914a1c?se=2022-03-21T23%3A20%3A00Z&sig=zqD6ZCvlZ8N2iUdKXNm9gV
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/zsh/manifests/5.8.1
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/zsh/blobs/sha256:750505b1f918835561d0faed812ba007b26ca6f85f658407874a7e764d05aec7
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:750505b1f918835561d0faed812ba007b26ca6f85f658407874a7e764d05aec7?se=2022-03-21T23%3A20%3A00Z&sig=lXN%2F4Lv56Uo7JWl3rdYz
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/gettext/manifests/0.21
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/gettext/blobs/sha256:6e2c829031949c0cbd758d0701ed62c191387736e76a98a046c0619907632225
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:6e2c829031949c0cbd758d0701ed62c191387736e76a98a046c0619907632225?se=2022-03-21T23%3A20%3A00Z&sig=R7ooE5Vv%2BKWHEYNrQwGS
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/pcre2/manifests/10.39
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/pcre2/blobs/sha256:f0633818b37d8d3ce88c882e048ada77e58f1f445a41e35b028d23e8866fc5ab
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:f0633818b37d8d3ce88c882e048ada77e58f1f445a41e35b028d23e8866fc5ab?se=2022-03-21T23%3A20%3A00Z&sig=h4U01uBZtSi9MObp%2B%2B
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/git/manifests/2.35.1
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/git/blobs/sha256:e19e56133d9990f9097a31b7720fe307e4ba87d79019cce086ad8f1e25993012
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:e19e56133d9990f9097a31b7720fe307e4ba87d79019cce086ad8f1e25993012?se=2022-03-21T23%3A20%3A00Z&sig=b3KGonCcAiYy%2FhFZPcW0
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/peco/manifests/0.5.10
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/peco/blobs/sha256:7cbc798bdabf06a5f02668d1d3c53662aa416bc7bbb1d41a6cc3268ef7d563f1
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:7cbc798bdabf06a5f02668d1d3c53662aa416bc7bbb1d41a6cc3268ef7d563f1?se=2022-03-21T23%3A20%3A00Z&sig=mdtbAiv94jAm%2F9gd96ck
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/yarn/manifests/1.22.18
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/yarn/blobs/sha256:e4032bfe83faec0cd66a9c52b1bc2a12ff8ecdeb1bd497a08cc077da065d5fac
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:e4032bfe83faec0cd66a9c52b1bc2a12ff8ecdeb1bd497a08cc077da065d5fac?se=2022-03-21T23%3A20%3A00Z&sig=scmwiqxp42hCd7tz0LNjDZ
######################################################################## 100.0%
==> Installing dependencies for zsh: ncurses and pcre
==> Installing zsh dependency: ncurses
==> Pouring ncurses--6.3.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/ncurses/6.3: 3,968 files, 9.6MB
==> Installing zsh dependency: pcre
==> Pouring pcre--8.45.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/pcre/8.45: 204 files, 4.6MB
==> Installing zsh
==> Pouring zsh--5.8.1.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/zsh/5.8.1: 1,531 files, 15.4MB
==> Running `brew cleanup zsh`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
==> Installing dependencies for git: gettext and pcre2
==> Installing git dependency: gettext
==> Pouring gettext--0.21.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/gettext/0.21: 1,953 files, 20.6MB
==> Installing git dependency: pcre2
==> Pouring pcre2--10.39.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/pcre2/10.39: 230 files, 6.0MB
==> Installing git
==> Pouring git--2.35.1.arm64_monterey.bottle.tar.gz
==> Caveats
The Tcl/Tk GUIs (e.g. gitk, git-gui) are now in the `git-gui` formula.
Subversion interoperability (git-svn) is now in the `git-svn` formula.

zsh completions and functions have been installed to:
  /opt/homebrew/share/zsh/site-functions

Emacs Lisp files have been installed to:
  /opt/homebrew/share/emacs/site-lisp/git
==> Summary
🍺  /opt/homebrew/Cellar/git/2.35.1: 1,523 files, 43.5MB
==> Running `brew cleanup git`...
==> Pouring peco--0.5.10.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/peco/0.5.10: 6 files, 3.8MB
==> Running `brew cleanup peco`...
==> Pouring yarn--1.22.18.all.bottle.tar.gz
==> Caveats
yarn requires a Node installation to function. You can install one with:
  brew install node
==> Summary
🍺  /opt/homebrew/Cellar/yarn/1.22.18: 15 files, 5MB
==> Running `brew cleanup yarn`...
==> Caveats
==> git
The Tcl/Tk GUIs (e.g. gitk, git-gui) are now in the `git-gui` formula.
Subversion interoperability (git-svn) is now in the `git-svn` formula.

zsh completions and functions have been installed to:
  /opt/homebrew/share/zsh/site-functions

Emacs Lisp files have been installed to:
  /opt/homebrew/share/emacs/site-lisp/git
==> yarn
yarn requires a Node installation to function. You can install one with:
  brew install node

k_end@k-end-mac ~ % brew install anyenv
==> Downloading https://ghcr.io/v2/homebrew/core/anyenv/manifests/1.1.4
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/anyenv/blobs/sha256:64a65deada2b73eea41aaf1072d015c193e46cc38d524e3770d8e319b56b54fe
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:64a65deada2b73eea41aaf1072d015c193e46cc38d524e3770d8e319b56b54fe?se=2022-03-21T23%3A20%3A00Z&sig=Rlm4iODGiN4Y%2BH3wBHBY
######################################################################## 100.0%
==> Pouring anyenv--1.1.4.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/anyenv/1.1.4: 23 files, 31.2KB
==> Running `brew cleanup anyenv`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).

k_end@k-end-mac ~ % brew install hub
==> Downloading https://ghcr.io/v2/homebrew/core/hub/manifests/2.14.2
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/hub/blobs/sha256:00602733d9a4c8049e34cb20a7c96dbd51f98a60e1cb5fbc9aec72663324ce89
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:00602733d9a4c8049e34cb20a7c96dbd51f98a60e1cb5fbc9aec72663324ce89?se=2022-03-21T23%3A20%3A00Z&sig=IPhj2n0h1%2FiECxHAzP8H
######################################################################## 100.0%
==> Pouring hub--2.14.2.arm64_monterey.bottle.tar.gz
==> Caveats
zsh completions have been installed to:
  /opt/homebrew/share/zsh/site-functions
==> Summary
🍺  /opt/homebrew/Cellar/hub/2.14.2: 64 files, 8.4MB
==> Running `brew cleanup hub`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).

brew install hugo
==> Downloading https://ghcr.io/v2/homebrew/core/hugo/manifests/0.95.0
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/hugo/blobs/sha256:6fe41619731a0fc4a7ed886dbe7d96bdc3bdc99b7451e2f47931acac8b83d6f4
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:6fe41619731a0fc4a7ed886dbe7d96bdc3bdc99b7451e2f47931acac8b83d6f4?se=2022-03-22T00%3A15%3A00Z&sig=RGSMhlxuhPwpYmFPNtt4%2
######################################################################## 100.0%
==> Pouring hugo--0.95.0.arm64_monterey.bottle.tar.gz
==> Caveats
zsh completions have been installed to:
  /opt/homebrew/share/zsh/site-functions
==> Summary
🍺  /opt/homebrew/Cellar/hugo/0.95.0: 48 files, 54.4MB
==> Running `brew cleanup hugo`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).

brew install mkcert
Running `brew update --preinstall`...
==> Auto-updated Homebrew!
Updated 1 tap (homebrew/core).
==> Updated Formulae
Updated 35 formulae.

==> Downloading https://ghcr.io/v2/homebrew/core/mkcert/manifests/1.
#=#=#                                                               ######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/mkcert/blobs/sha256
==> Downloading from https://pkg-containers.githubusercontent.com/gh
###################                                                 ###############################################################     ######################################################################## 100.0%
==> Pouring mkcert--1.4.3.arm64_monterey.bottle.1.tar.gz
🍺  /opt/homebrew/Cellar/mkcert/1.4.3: 6 files, 3.8MB
==> Running `brew cleanup mkcert`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
```

### anyenv

```sh
k_end@k-end-mac ~ % mkdir -p $(anyenv root)/plugins
k_end@k-end-mac ~ % git clone https://github.com/znz/anyenv-update.git $(anyenv root)/plugins/anyenv-update
Cloning into '/Users/k_end/.anyenv/plugins/anyenv-update'...
remote: Enumerating objects: 87, done.
remote: Total 87 (delta 0), reused 0 (delta 0), pack-reused 87
Receiving objects: 100% (87/87), 13.33 KiB | 3.33 MiB/s, done.
Resolving deltas: 100% (33/33), done.
k_end@k-end-mac ~ % anyenv install --init
Manifest directory doesn't exist: /Users/k_end/.config/anyenv/anyenv-install
Do you want to checkout https://github.com/anyenv/anyenv-install.git? [y/N]: y
Cloning https://github.com/anyenv/anyenv-install.git master to /Users/k_end/.config/anyenv/anyenv-install...
Cloning into '/Users/k_end/.config/anyenv/anyenv-install'...
remote: Enumerating objects: 62, done.
remote: Counting objects: 100% (5/5), done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 62 (delta 1), reused 1 (delta 0), pack-reused 57
Receiving objects: 100% (62/62), 10.52 KiB | 828.00 KiB/s, done.
Resolving deltas: 100% (8/8), done.

Completed!
k_end@k-end-mac ~ % anyenv update
Skipping 'anyenv'; not git repo
Updating 'anyenv/anyenv-update'...
Updating 'anyenv manifest directory'...

k_end@k-end-mac ~ % anyenv install rbenv
/var/folders/yr/_fhs4b294310h2cmmdp396140000gn/T/rbenv.20220322082050.29516 ~
Cloning https://github.com/rbenv/rbenv.git master to rbenv...
Cloning into 'rbenv'...
remote: Enumerating objects: 3013, done.
remote: Counting objects: 100% (117/117), done.
remote: Compressing objects: 100% (85/85), done.
remote: Total 3013 (delta 62), reused 73 (delta 32), pack-reused 2896
Receiving objects: 100% (3013/3013), 606.56 KiB | 8.20 MiB/s, done.
Resolving deltas: 100% (1871/1871), done.
~
~/.anyenv/envs/rbenv/plugins ~
Cloning https://github.com/rbenv/ruby-build.git master to ruby-build...
Cloning into 'ruby-build'...
remote: Enumerating objects: 12146, done.
remote: Counting objects: 100% (839/839), done.
remote: Compressing objects: 100% (311/311), done.
remote: Total 12146 (delta 556), reused 708 (delta 475), pack-reused 11307
Receiving objects: 100% (12146/12146), 2.55 MiB | 3.36 MiB/s, done.
Resolving deltas: 100% (8023/8023), done.
~

Install rbenv succeeded!
Please reload your profile (exec $SHELL -l) or open a new session.
k_end@k-end-mac ~ % anyenv install nodenv
/var/folders/yr/_fhs4b294310h2cmmdp396140000gn/T/nodenv.20220322082103.29547 ~
Cloning https://github.com/nodenv/nodenv.git master to nodenv...
Cloning into 'nodenv'...
remote: Enumerating objects: 4021, done.
remote: Counting objects: 100% (18/18), done.
remote: Compressing objects: 100% (17/17), done.
remote: Total 4021 (delta 5), reused 4 (delta 1), pack-reused 4003
Receiving objects: 100% (4021/4021), 732.74 KiB | 4.16 MiB/s, done.
Resolving deltas: 100% (2636/2636), done.
~
~/.anyenv/envs/nodenv/plugins ~
Cloning https://github.com/nodenv/node-build.git master to node-build...
Cloning into 'node-build'...
remote: Enumerating objects: 21096, done.
remote: Counting objects: 100% (872/872), done.
remote: Compressing objects: 100% (452/452), done.
remote: Total 21096 (delta 391), reused 708 (delta 344), pack-reused 20224
Receiving objects: 100% (21096/21096), 3.75 MiB | 10.36 MiB/s, done.
Resolving deltas: 100% (13293/13293), done.
~
~/.anyenv/envs/nodenv/plugins ~
Cloning https://github.com/nodenv/nodenv-vars.git master to nodenv-vars...
Cloning into 'nodenv-vars'...
remote: Enumerating objects: 211, done.
remote: Total 211 (delta 0), reused 0 (delta 0), pack-reused 211
Receiving objects: 100% (211/211), 31.82 KiB | 3.18 MiB/s, done.
Resolving deltas: 100% (76/76), done.
~

Install nodenv succeeded!
Please reload your profile (exec $SHELL -l) or open a new session.
```

## Docker

[Docker Desktop for Apple silicon \| Docker ドキュメント](https://matsuand.github.io/docs.docker.jp.onthefly/desktop/mac/apple-silicon/)からDockerをインストール

ブラウザからログインして、アプリでお試しコマンドが表示されるので実行する

```sh
docker run -d -p 80:80 docker/getting-started
zsh: correct docker to .docker [nyae]? n
Unable to find image 'docker/getting-started:latest' locally

latest: Pulling from docker/getting-started
9b3977197b4f: Pull complete
39f2bf92291e: Pull complete
ea9231e3d522: Pull complete
90b319ad0eff: Pull complete
408c69fe56bf: Pull complete
33dbb7c8f996: Pull complete
0174d564973a: Pull complete
524fc1f6ba50: Pull complete
Digest: sha256:aa945bdff163395d3293834697fa91fd4c725f47093ec499f27bc032dc1bdd16
Status: Downloaded newer image for docker/getting-started:latest
84208dffaaec2d3e0edfc1850ffeea8b70fd1eaf5b1d727ff2e7ba2612a40cee
```

パスが自動的に通った。

<img width="1266" alt="image" src="https://user-images.githubusercontent.com/44717752/159381122-1dcf7114-9ca7-4f7a-b1f3-adce72b9fc72.png">


[Apple Silicon Mac \+ Rosetta 2 \+ Dockerで arm64\(aarch64\)/x86\_64 とmacOS/Linuxの組み合わせで自動テストする方法\(Elixirだけじゃなく汎用の方法も紹介するよ\) \- Qiita](https://qiita.com/zacky1972/items/c8410e6cc3bb76b4b437)

## prezto

```sh
k_end@k-end-mac ~ % git clone --recursive https://github.com/aiandrox/prezto.git "${ZDOTDIR:-$HOME}/.zprezto"
Cloning into '/Users/k_end/.zprezto'...
remote: Enumerating objects: 10982, done.
remote: Total 10982 (delta 0), reused 0 (delta 0), pack-reused 10982
Receiving objects: 100% (10982/10982), 2.02 MiB | 2.54 MiB/s, done.
Resolving deltas: 100% (5645/5645), done.
Submodule 'modules/autosuggestions/external' (https://github.com/zsh-users/zsh-autosuggestions.git) registered for path 'modules/autosuggestions/external'
Submodule 'modules/completion/external' (https://github.com/zsh-users/zsh-completions.git) registered for path 'modules/completion/external'
Submodule 'modules/fasd/external' (https://github.com/clvv/fasd.git) registered for path 'modules/fasd/external'
Submodule 'modules/history-substring-search/external' (https://github.com/zsh-users/zsh-history-substring-search.git) registered for path 'modules/history-substring-search/external'
Submodule 'modules/prompt/external/agnoster' (https://github.com/agnoster/agnoster-zsh-theme.git) registered for path 'modules/prompt/external/agnoster'
Submodule 'modules/prompt/external/async' (https://github.com/mafredri/zsh-async.git) registered for path 'modules/prompt/external/async'
Submodule 'modules/prompt/external/powerlevel10k' (https://github.com/romkatv/powerlevel10k.git) registered for path 'modules/prompt/external/powerlevel10k'
Submodule 'modules/prompt/external/powerlevel9k' (https://github.com/bhilburn/powerlevel9k.git) registered for path 'modules/prompt/external/powerlevel9k'
Submodule 'modules/prompt/external/powerline' (https://github.com/davidjrice/prezto_powerline.git) registered for path 'modules/prompt/external/powerline'
Submodule 'modules/prompt/functions/pure' (https://github.com/sindresorhus/pure.git) registered for path 'modules/prompt/external/pure'
Submodule 'modules/syntax-highlighting/external' (https://github.com/zsh-users/zsh-syntax-highlighting.git) registered for path 'modules/syntax-highlighting/external'
Cloning into '/Users/k_end/.zprezto/modules/autosuggestions/external'...
remote: Enumerating objects: 2435, done.
remote: Counting objects: 100% (50/50), done.
remote: Compressing objects: 100% (42/42), done.
remote: Total 2435 (delta 21), reused 21 (delta 7), pack-reused 2385
Receiving objects: 100% (2435/2435), 566.38 KiB | 2.14 MiB/s, done.
Resolving deltas: 100% (1552/1552), done.
Cloning into '/Users/k_end/.zprezto/modules/completion/external'...
remote: Enumerating objects: 4927, done.
remote: Counting objects: 100% (292/292), done.
remote: Compressing objects: 100% (172/172), done.
remote: Total 4927 (delta 155), reused 220 (delta 119), pack-reused 4635
Receiving objects: 100% (4927/4927), 1.89 MiB | 5.31 MiB/s, done.
Resolving deltas: 100% (3098/3098), done.
Cloning into '/Users/k_end/.zprezto/modules/fasd/external'...
remote: Enumerating objects: 1028, done.
remote: Total 1028 (delta 0), reused 0 (delta 0), pack-reused 1028
Receiving objects: 100% (1028/1028), 233.81 KiB | 5.99 MiB/s, done.
Resolving deltas: 100% (506/506), done.
Cloning into '/Users/k_end/.zprezto/modules/history-substring-search/external'...
remote: Enumerating objects: 416, done.
remote: Counting objects: 100% (17/17), done.
remote: Compressing objects: 100% (12/12), done.
remote: Total 416 (delta 8), reused 10 (delta 5), pack-reused 399
Receiving objects: 100% (416/416), 141.55 KiB | 1.71 MiB/s, done.
Resolving deltas: 100% (204/204), done.
Cloning into '/Users/k_end/.zprezto/modules/prompt/external/agnoster'...
remote: Enumerating objects: 103, done.
remote: Total 103 (delta 0), reused 0 (delta 0), pack-reused 103
Receiving objects: 100% (103/103), 6.07 MiB | 7.48 MiB/s, done.
Resolving deltas: 100% (36/36), done.
Cloning into '/Users/k_end/.zprezto/modules/prompt/external/async'...
remote: Enumerating objects: 1013, done.
remote: Counting objects: 100% (7/7), done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 1013 (delta 2), reused 5 (delta 2), pack-reused 1006
Receiving objects: 100% (1013/1013), 309.26 KiB | 1.38 MiB/s, done.
Resolving deltas: 100% (629/629), done.
Cloning into '/Users/k_end/.zprezto/modules/prompt/external/powerlevel10k'...
remote: Enumerating objects: 614, done.
remote: Counting objects: 100% (614/614), done.
remote: Compressing objects: 100% (446/446), done.
remote: Total 614 (delta 412), reused 305 (delta 158), pack-reused 0
Receiving objects: 100% (614/614), 23.85 MiB | 6.98 MiB/s, done.
Resolving deltas: 100% (412/412), done.
Cloning into '/Users/k_end/.zprezto/modules/prompt/external/powerlevel9k'...
remote: Enumerating objects: 1116, done.
remote: Counting objects: 100% (1116/1116), done.
remote: Compressing objects: 100% (850/850), done.
remote: Total 1116 (delta 620), reused 528 (delta 223), pack-reused 0
Receiving objects: 100% (1116/1116), 1.52 MiB | 5.86 MiB/s, done.
Resolving deltas: 100% (620/620), done.
Cloning into '/Users/k_end/.zprezto/modules/prompt/external/powerline'...
remote: Enumerating objects: 38, done.
remote: Total 38 (delta 0), reused 0 (delta 0), pack-reused 38
Receiving objects: 100% (38/38), 137.50 KiB | 5.73 MiB/s, done.
Resolving deltas: 100% (16/16), done.
Cloning into '/Users/k_end/.zprezto/modules/prompt/external/pure'...
remote: Enumerating objects: 1151, done.
remote: Counting objects: 100% (84/84), done.
remote: Compressing objects: 100% (68/68), done.
remote: Total 1151 (delta 50), reused 38 (delta 16), pack-reused 1067
Receiving objects: 100% (1151/1151), 720.56 KiB | 7.43 MiB/s, done.
Resolving deltas: 100% (629/629), done.
Cloning into '/Users/k_end/.zprezto/modules/syntax-highlighting/external'...
remote: Enumerating objects: 7011, done.
remote: Counting objects: 100% (98/98), done.
remote: Compressing objects: 100% (70/70), done.
remote: Total 7011 (delta 46), reused 66 (delta 22), pack-reused 6913
Receiving objects: 100% (7011/7011), 1.52 MiB | 7.05 MiB/s, done.
Resolving deltas: 100% (4721/4721), done.
Submodule path 'modules/autosuggestions/external': checked out 'ae315ded4dba10685dbbafbfa2ff3c1aefeb490d'
Submodule path 'modules/completion/external': checked out 'ed4ff5384b03aa775a57d4c9588c88850026b0b3'
Submodule path 'modules/fasd/external': checked out '48220241e764fdf46b075cd7fe723468aaadde58'
Submodule path 'modules/history-substring-search/external': checked out 'aae3388491c2312c4efb2e86bcb999927bb2900e'
Submodule path 'modules/prompt/external/agnoster': checked out '6bba672c7812a76defc3efed9b6369eeee2425dc'
Submodule path 'modules/prompt/external/async': checked out '95c2b1577f455728ec01cec001a86c216d0af2bd'
Submodule path 'modules/prompt/external/powerlevel10k': checked out '47c842fe8e666e718c8ea805586fe30d0038c262'
remote: Enumerating objects: 224, done.
remote: Counting objects: 100% (205/205), done.
remote: Compressing objects: 100% (59/59), done.
remote: Total 147 (delta 106), reused 129 (delta 88), pack-reused 0
Receiving objects: 100% (147/147), 21.96 KiB | 21.96 MiB/s, done.
Resolving deltas: 100% (106/106), completed with 13 local objects.
From https://github.com/bhilburn/powerlevel9k
 * branch            2f4b15041fe31d85dc9ef705b818c3a0e6985da3 -> FETCH_HEAD
Submodule path 'modules/prompt/external/powerlevel9k': checked out '2f4b15041fe31d85dc9ef705b818c3a0e6985da3'
Submodule 'shunit2' (https://github.com/kward/shunit2.git) registered for path 'modules/prompt/external/powerlevel9k/shunit2'
Cloning into '/Users/k_end/.zprezto/modules/prompt/external/powerlevel9k/shunit2'...
remote: Enumerating objects: 3338, done.
remote: Counting objects: 100% (342/342), done.
remote: Compressing objects: 100% (138/138), done.
remote: Total 3338 (delta 213), reused 310 (delta 204), pack-reused 2996
Receiving objects: 100% (3338/3338), 652.58 KiB | 6.80 MiB/s, done.
Resolving deltas: 100% (1650/1650), done.
Submodule path 'modules/prompt/external/powerlevel9k/shunit2': checked out '07bb3292048a4982aad7247bdd7890f2bf532ece'
Submodule path 'modules/prompt/external/powerline': checked out 'c48e4c69ef5c368ea7cda961ed9d0e298a5ae1fc'
Submodule path 'modules/prompt/external/pure': checked out '2e354b80deae105ea246699c49e65dcd4fe8b759'
Submodule path 'modules/syntax-highlighting/external': checked out '932e29a0c75411cb618f02995b66c0a4a25699bc'
```

## 移行したディレクトリ

- .ssh
- 作業用ディレクトリ

[新しいSSHキーを生成し、それをssh\-agentに追加します\-GitHub Docs](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)


## Javaのインストール

[Java Download \| Java 8, Java 11, Java 13 \- Linux, Windows & macOS](https://www.azul.com/downloads/?os=macos&architecture=arm-64-bit&package=jdk#download-openjdk)
<img width="1431" alt="image" src="https://user-images.githubusercontent.com/44717752/159492281-d4c0d2a0-a723-434e-9538-4df69afac675.png">
Siliconなので`ARM 64-bit`
`.dmg`ファイルをダウンロード

```sh
 java -version
openjdk version "17.0.2" 2022-01-18 LTS
OpenJDK Runtime Environment Zulu17.32+13-CA (build 17.0.2+8-LTS)
OpenJDK 64-Bit Server VM Zulu17.32+13-CA (build 17.0.2+8-LTS, mixed mode, sharing)
```

### mysql

```sh
brew install mysql
==> Auto-updated Homebrew!
Updated 1 tap (homebrew/core).
==> Updated Formulae
Updated 29 formulae.

==> Downloading https://ghcr.io/v2/homebrew/core/icu4c/manifests/70.1
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/icu4c/blobs/sha256:43cf787a35559b90597db8e1aaba95dbeedb84b1ee3d2e942be8938ae618724c
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:43cf787a35559b90597db8e1aaba95dbeedb84b1ee3d2e942be8938ae618724c?se=2022-03-22T14%3A55%3A00Z&sig=klpxZjgC%2FT5c2NtbEYmrgzpFFl6%2BjMk1cx0kzgm
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/openssl/1.1/manifests/1.1.1n
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/openssl/1.1/blobs/sha256:f9dbd826c0a48bb37a7bd182f3bbcad0376b22a72c4a0b0d152c9e40bfb716b2
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:f9dbd826c0a48bb37a7bd182f3bbcad0376b22a72c4a0b0d152c9e40bfb716b2?se=2022-03-22T14%3A55%3A00Z&sig=Tl%2FmWSKqFOjXZIvJdy4zGc4yjDtMKEzudpgRWgw2P
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/libevent/manifests/2.1.12
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/libevent/blobs/sha256:4867e07fed355e41bf50f9f44e29307c0004387dd49f743e3b387478572dc8a8
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:4867e07fed355e41bf50f9f44e29307c0004387dd49f743e3b387478572dc8a8?se=2022-03-22T14%3A55%3A00Z&sig=2WqgbgJNHsqoa4kjmF60%2FdvDujJBiP8UuP6%2Ba1P
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/libcbor/manifests/0.9.0
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/libcbor/blobs/sha256:ebb91ce404c53552b9ec1f2a4800bc2c1a9e83cd1692d8b1e1612b4734b92925
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:ebb91ce404c53552b9ec1f2a4800bc2c1a9e83cd1692d8b1e1612b4734b92925?se=2022-03-22T14%3A55%3A00Z&sig=qH8WC0CVmbTY14y2BAMop6i7bWbp%2BTukv7Lw9xePW
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/libfido2/manifests/1.10.0
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/libfido2/blobs/sha256:e78d1d760c1c61c74ea753e38f1803aafdc516b83f446dddb43edc5245475ed3
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:e78d1d760c1c61c74ea753e38f1803aafdc516b83f446dddb43edc5245475ed3?se=2022-03-22T14%3A55%3A00Z&sig=5OUh2bTMmSZfX7KgIOZUikeP%2B9vGZcRBAZL6u8Hlq
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/lz4/manifests/1.9.3
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/lz4/blobs/sha256:d222923849a6fefd391ab6705f1468c10d287c08ab9c4b5053a18a552139e262
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:d222923849a6fefd391ab6705f1468c10d287c08ab9c4b5053a18a552139e262?se=2022-03-22T14%3A55%3A00Z&sig=NDmHShFHliOyOIsGzrpLO9rGISJp44O5RtGTjRkOwDM
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/six/manifests/1.16.0_2-1
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/six/blobs/sha256:560f73cafaea617d44f93beffdac91ac3b93095b1b64ff3877c5c4903f1cb001
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:560f73cafaea617d44f93beffdac91ac3b93095b1b64ff3877c5c4903f1cb001?se=2022-03-22T14%3A55%3A00Z&sig=eRv5vYdNQNAUgoLGmQ9x3NV%2FXibgt%2BppmXZWlQ2
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/protobuf/manifests/3.19.4
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/protobuf/blobs/sha256:a467da7231471d7913ed291e83852e1ca950db86d142b2a67e0839743dc132b7
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:a467da7231471d7913ed291e83852e1ca950db86d142b2a67e0839743dc132b7?se=2022-03-22T14%3A55%3A00Z&sig=10A9IPGYdH4SaF8uJo8DixCXLEKesCAJts57XBTTa88
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/zstd/manifests/1.5.2-1
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/zstd/blobs/sha256:7255929473878bace1be37dd11537574277c29145eb0ad9bef47de3c397682b5
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:7255929473878bace1be37dd11537574277c29145eb0ad9bef47de3c397682b5?se=2022-03-22T14%3A55%3A00Z&sig=BNoAbU02Ra9RhciaxgFUsYPUmlj55SA1VJ5VqjAsfuQ
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/mysql/manifests/8.0.28_1
######################################################################## 100.0%
==> Downloading https://ghcr.io/v2/homebrew/core/mysql/blobs/sha256:c51f67f07e7a419c14d3f2e68cab306b5b618c56ab61bef26abbb6d24986d4ed
==> Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:c51f67f07e7a419c14d3f2e68cab306b5b618c56ab61bef26abbb6d24986d4ed?se=2022-03-22T14%3A55%3A00Z&sig=3F%2FGFHAbuNNOsWsHRmYBGFReomM2s0mzCugCn%2Bn
######################################################################## 100.0%
==> Installing dependencies for mysql: icu4c, openssl@1.1, libevent, libcbor, libfido2, lz4, six, protobuf and zstd
==> Installing mysql dependency: icu4c
==> Pouring icu4c--70.1.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/icu4c/70.1: 261 files, 74.9MB
==> Installing mysql dependency: openssl@1.1
==> Pouring openssl@1.1--1.1.1n.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/openssl@1.1/1.1.1n: 8,089 files, 18MB
==> Installing mysql dependency: libevent
==> Pouring libevent--2.1.12.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/libevent/2.1.12: 57 files, 2.1MB
==> Installing mysql dependency: libcbor
==> Pouring libcbor--0.9.0.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/libcbor/0.9.0: 31 files, 180KB
==> Installing mysql dependency: libfido2
==> Pouring libfido2--1.10.0.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/libfido2/1.10.0: 510 files, 1.2MB
==> Installing mysql dependency: lz4
==> Pouring lz4--1.9.3.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/lz4/1.9.3: 22 files, 620.6KB
==> Installing mysql dependency: six
==> Pouring six--1.16.0_2.all.bottle.1.tar.gz
🍺  /opt/homebrew/Cellar/six/1.16.0_2: 20 files, 122.3KB
==> Installing mysql dependency: protobuf
==> Pouring protobuf--3.19.4.arm64_monterey.bottle.tar.gz
🍺  /opt/homebrew/Cellar/protobuf/3.19.4: 270 files, 19.8MB
==> Installing mysql dependency: zstd
==> Pouring zstd--1.5.2.arm64_monterey.bottle.1.tar.gz
🍺  /opt/homebrew/Cellar/zstd/1.5.2: 31 files, 2.8MB
==> Installing mysql
==> Pouring mysql--8.0.28_1.arm64_monterey.bottle.tar.gz
==> /opt/homebrew/Cellar/mysql/8.0.28_1/bin/mysqld --initialize-insecure --user=k_end --basedir=/opt/homebrew/Cellar/mysql/8.0.28_1 --datadir=/opt/homebrew/var/mysql --tmpdir=/tmp
==> Caveats
We've installed your MySQL database without a root password. To secure it run:
    mysql_secure_installation

MySQL is configured to only allow connections from localhost by default

To connect run:
    mysql -uroot

To restart mysql after an upgrade:
  brew services restart mysql
Or, if you don't want/need a background service you can just run:
  /opt/homebrew/opt/mysql/bin/mysqld_safe --datadir=/opt/homebrew/var/mysql
==> Summary
🍺  /opt/homebrew/Cellar/mysql/8.0.28_1: 304 files, 294.3MB
==> Running `brew cleanup mysql`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
==> Caveats
==> mysql
We've installed your MySQL database without a root password. To secure it run:
    mysql_secure_installation

MySQL is configured to only allow connections from localhost by default

To connect run:
    mysql -uroot

To restart mysql after an upgrade:
  brew services restart mysql
Or, if you don't want/need a background service you can just run:
  /opt/homebrew/opt/mysql/bin/mysqld_safe --datadir=/opt/homebrew/var/mysql
```

```sh
brew info mysql                                                                                                                                                                        ✘ 1

mysql: stable 8.0.28 (bottled)
Open source relational database management system
https://dev.mysql.com/doc/refman/8.0/en/
Conflicts with:
  mariadb (because mysql, mariadb, and percona install the same binaries)
  percona-server (because mysql, mariadb, and percona install the same binaries)
/opt/homebrew/Cellar/mysql/8.0.28_1 (304 files, 294.3MB) *
  Poured from bottle on 2022-03-22 at 23:46:29
From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/mysql.rb
License: GPL-2.0-only with Universal-FOSS-exception-1.0
==> Dependencies
Build: cmake ✘, pkg-config ✘
Required: icu4c ✔, libevent ✔, libfido2 ✔, lz4 ✔, openssl@1.1 ✔, protobuf ✔, zstd ✔
==> Caveats
We've installed your MySQL database without a root password. To secure it run:
    mysql_secure_installation

MySQL is configured to only allow connections from localhost by default

To connect run:
    mysql -uroot

To restart mysql after an upgrade:
  brew services restart mysql
Or, if you don't want/need a background service you can just run:
  /opt/homebrew/opt/mysql/bin/mysqld_safe --datadir=/opt/homebrew/var/mysql
==> Analytics
install: 99,389 (30 days), 273,963 (90 days), 957,294 (365 days)
install-on-request: 99,052 (30 days), 272,832 (90 days), 952,779 (365 days)
build-error: 238 (30 days)
```

```sh
brew info openssl@1.1
openssl@1.1: stable 1.1.1n (bottled) [keg-only]
Cryptography and SSL/TLS Toolkit
https://openssl.org/
/opt/homebrew/Cellar/openssl@1.1/1.1.1n (8,089 files, 18MB)
  Poured from bottle on 2022-03-22 at 23:46:21
From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/openssl@1.1.rb
License: OpenSSL
==> Dependencies
Required: ca-certificates ✔
==> Caveats
A CA file has been bootstrapped using certificates from the system
keychain. To add additional certificates, place .pem files in
  /opt/homebrew/etc/openssl@1.1/certs

and run
  /opt/homebrew/opt/openssl@1.1/bin/c_rehash

openssl@1.1 is keg-only, which means it was not symlinked into /opt/homebrew,
because macOS provides LibreSSL.

If you need to have openssl@1.1 first in your PATH, run:
  echo 'export PATH="/opt/homebrew/opt/openssl@1.1/bin:$PATH"' >> ~/.zshrc

For compilers to find openssl@1.1 you may need to set:
  export LDFLAGS="-L/opt/homebrew/opt/openssl@1.1/lib"
  export CPPFLAGS="-I/opt/homebrew/opt/openssl@1.1/include"

==> Analytics
install: 687,573 (30 days), 2,606,735 (90 days), 10,169,443 (365 days)
install-on-request: 24,610 (30 days), 75,391 (90 days), 526,627 (365 days)
build-error: 642 (30 days)
```

```sh
brew link openssl@1.1 --force
Linking /opt/homebrew/Cellar/openssl@1.1/1.1.1n... 3993 symlinks created.

If you need to have this software first in your PATH instead consider running:
  echo 'export PATH="/opt/homebrew/opt/openssl@1.1/bin:$PATH"' >> ~/.zshrc
```

```sh
echo 'export PATH="/opt/homebrew/opt/openssl@1.1/bin:$PATH"' >> ~/.zshrc
```

[AppleSilicon上のRailsとMySQL\-スタックオーバーフロー](https://stackoverflow.com/questions/67631572/rails-mysql-on-apple-silicon)

```sh
gem install mysql2 -v '0.5.3' -- \                          ✘ 1
--with-mysql-lib=$(brew --prefix mysql)/lib \
--with-mysql-dir=$(brew --prefix mysql) \
--with-mysql-config=$(brew --prefix mysql)/bin/mysql_config \
--with-mysql-include=$(brew --prefix mysql)/include
Building native extensions with: '--with-mysql-lib=/opt/homebrew/opt/mysql/lib --with-mysql-dir=/opt/homebrew/opt/mysql --with-mysql-config=/opt/homebrew/opt/mysql/bin/mysql_config --with-mysql-include=/opt/homebrew/opt/mysql/include'
This could take a while...
Successfully installed mysql2-0.5.3
Parsing documentation for mysql2-0.5.3
Installing ri documentation for mysql2-0.5.3
Done installing documentation for mysql2 after 0 seconds
1 gem installed
```

configに追加

```sh
bundle config set --local build.mysql2 \
--with-mysql-lib=$(brew --prefix mysql)/lib \
--with-mysql-dir=$(brew --prefix mysql) \
--with-mysql-config=$(brew --prefix mysql)/bin/mysql_config \
--with-mysql-include=$(brew --prefix mysql)/include
```

とりあえずlocalにしたけど、今後毎回設定するのは面倒なので、`--global`でよい。


## Rubyインストール時のエラー

[M1 の MacBook で rbenv \+ Ruby 2\.6\.6 をビルドする \- Secret Garden\(Instrumental\)](https://secret-garden.hatenablog.com/entry/2021/01/02/220713)

```sh
 RUBY_CFLAGS=-DUSE_FFI_CLOSURE_ALLOC rbenv install
```
